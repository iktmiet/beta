<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Расписание</title>
    <style>
        body {
            font-family: 'Nunito', sans-serif; /* Заменено 'Arial' на 'Nunito' */
            background-color: #1e1e1e;
            color: #ffffff;
            margin: 0;
            padding: 0;
        }

        h1 {
            font-family: 'Manrope', sans-serif;
        }

        .footer-text {
            text-align: center;
            margin-top: 10px;
            font-size: 10px;
            opacity: 0.5; /* Прозрачность 50% */
        }

        /* Обновленные стили для кнопок */
        button {
            font-family: 'Manrope', sans-serif;
            font-weight: 600;
            font-size: 16px;
            padding: 10px 20px;
            border: none;
            cursor: pointer;
            border-radius: 10px; /* Скругление углов */
            margin-top: -10px;
            margin-bottom: 10px;
        }

        #numerator-btn {
            background-color: #007bff; /* Цвет активной кнопки (синий) */
            color: #ffffff;
        }

        #denominator-btn {
            background-color: #ffffff; /* Цвет неактивной кнопки (белый) */
            color: #333333;
        }


        header {
            text-align: left;
            padding: 10px;
            padding-left: 30px;
            background-color: #333333;
        }

        .schedule-container {
            display: flex;
            flex-direction: column;
            margin: 10px;
        }

        .day-block {
            margin-bottom: 20px;
            border-radius: 10px;
            overflow: hidden;
            background-color: #333333;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .break-item {
            padding: 15px;
            background-color: #444444;
        }

        .day-title {
            text-align: left; 
            padding: 15px;
            background-color: #555555;
            font-size: 16px; /* Размер шрифта заголовка */
            margin-bottom: 0; /* Убран отступ снизу */
            font-weight: 600;
        }

        .weekend-title {
            text-align: left; 
            padding: 15px;
            background-color: #c45555;
            font-size: 16px; /* Размер шрифта заголовка */
            margin-bottom: 0; /* Убран отступ снизу */
            font-weight: 600;
        }

        .class-item, .break-item {
            padding: 14px;
            border-bottom: 1px solid #555555;
        }

        .class-item span {
            font-size: 11px;
            display: block;
            padding: 5px;
        }
        
        .class-item strong {
            font-size: 14px;
            display: flex;
            align-items: center; /* Центрирование вертикально */
        }

        .class-item {
            display: flex;
            justify-content: space-between; /* Равномерное распределение между элементами */
            align-items: center; /* Центрирование вертикально */
            padding: 15px;
            border-bottom: 1px solid #555555;
        }

        .class-item .time-icon {
            font-size: 20px;
            margin-right: 10px; /* Добавлен отступ между текстом и иконкой */
        }

        :root {
            --lecture: #53e51e;
            --seminar: #77b9ff;
            --lab: #ff8c00;
            --practice: #4fffc4;
            --event: #ff14ff;
        }


        .button-container {
            justify-content: center;
            position: relative;
            display: inline-block;

            margin-top: 10px;
            margin-bottom: 10px;
        }

        .button {
            padding: 10px 20px;
            margin: 0 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            outline: none;
        }

        .inactive-button {
            background-color: #ffffff; /* Цвет неактивной кнопки (белый) */
            color: #333333;

            transition-timing-function: ease-in-out;
            transition-duration: 0.1s; 
        }

        .active-button {
            background-color: #007bff; /* Цвет активной кнопки (синий) */
            color: #ffffff;

            transition-timing-function: ease-in-out;
            transition-duration: 0.1s; 
        }

        .num-notification {
            width: 12px;
            height: 12px;
            background-color: #00c825;
            position: absolute;
            border-radius: 50%;
            
            top: -13px;
            right: 154px;
            display: none; /* Изначально скрыт */
        }

        .den-notification {
            width: 12px;
            height: 12px;
            background-color: #00c825;
            position: absolute;
            border-radius: 50%;

            top: -13px;
            right: -2px;
            display: none; /* Изначально скрыт */
        }


        /* Обновленные стили для классов лекций, семинаров, лаб, занятий и событий */
        .lecture strong, .lecture .time-icon {
            color: var(--lecture); /* Зелёный цвет для лекций */
        }

        .seminar strong, .seminar .time-icon {
            color: var(--seminar); /* Синий цвет для семинаров */
        }

        .lab strong, .lab .time-icon {
            color: var(--lab); /* Оранжевый цвет для лабораторных */
        }

        .practice strong, .practice .time-icon {
            color: var(--practice); /* Тёмно-зелёный цвет для занятий */
        }

        .event strong, .event .time-icon {
            color: var(--event); /* Фиолетовый цвет для событий */
        }

        .alpha50 {
            opacity: 0.5;
        }
    </style>
</head>
<body>
    <script>
        // Проверяем, была ли страница уже открыта
        var isNotFirstVisit = localStorage.getItem('isNotFirstVisit');

        if (!isNotFirstVisit) {
            // Если это первое посещение, переадресовываем на hi.html
            window.location.href = 'hi';
            // Устанавливаем флаг о том, что страница была открыта
            localStorage.setItem('isNotFirstVisit', 'true');
        }
    </script>

    <header>
        <h1>Расписание</h1>
        <div class="button-container">
            <button style="margin-right:5px" id="numeratorBtn" class="active-button" onclick="changeSchedule('numerator')">
                Числитель
                <span id="numeratorCircle" class="num-notification"></span>
            </button>
        
            <button style="margin-left: 5px" id="denominatorBtn" class="inactive-button" onclick="changeSchedule('denominator')">
                Знаменатель
                <span id="denominatorCircle" class="den-notification"></span>
            </button>
        </div>
    </header>

    <style type='text/css'>
        .my-legend {
            display: flex; /* Добавлено для размещения в строку */
            justify-content: space-between; /* Распределение элементов в строке */
        }
    
        .my-legend .legend-title {
            text-align: left;
            margin-bottom: 5px;
            font-weight: bold;
            font-size: 90%;
        }
    
        .my-legend .legend-scale ul {
            margin: 0; /* Изменено с 15px на 0 */
            padding: 0;
            list-style: none;
            display: flex; /* Добавлено для размещения в строку */
        }
    
        .my-legend .legend-scale ul li {
            font-size: 80%;
            list-style: none;
            margin-left: 15px; /* Добавлен отступ между элементами */
            line-height: 18px;
            margin-bottom: 2px;
        }
    
        .my-legend ul.legend-labels li span {
            display: block;
            float: left;
            height: 15px;
            width: 15px;
            border-radius: 50%;
            margin-right: 5px;
            margin-left: 0;
        }
    
        .my-legend .legend-source {
            font-size: 70%;
            color: #999;
            clear: both;
        } 
    
        .my-legend a {
            color: #777;
        }
    </style>
    
    <div class='my-legend' style="margin-top: 15px;">
        <div class='legend-scale'>
            <ul class='legend-labels'>
                <li><span style='background:var(--event);'></span><b id="weekLegend">Определение недели... Обождите...</b></li>
            </ul>
        </div>
    </div>





    <!-- ЧИСЛИТЕЛЬ -->

    <script>
        var numeratorSchedule = `
                <!-- Понедельник -->
            <div class="day-block">
                <div class="weekend-title">ПОНЕДЕЛЬНИК</div>

                <!-- ПАРА 1 -->
                <div class="class-item lecture">
                    <i class="material-icons time-icon">hub</i>
                    <strong>Физика. Механика</strong>
                    <span>1201</span>
                    <span>10:00 - 11:30</span>
                    <span>Федоренко И.В.</span>
                </div>

                <!-- ПАРА 2 -->
                <div class="class-item seminar">
                    <i class="material-symbols-outlined time-icon">function</i>
                    <strong>Линейная алгебра</strong>
                    <span>3303</span>
                    <span>10:00 - 11:30</span>
                    <span>Прокофьев А.А.</span>
                </div>

                <!-- ПЕРЕМЕНА -->
                <div class="break-item"><b>Большой перерыв</b><br>12:00 - 12:40</div>

                <!-- ПАРА 3 -->
                <div class="class-item lab">
                    <i class="material-symbols-outlined time-icon">functions</i>
                    <strong>Математический анализ</strong>
                    <span>1201</span>
                    <span>10:00 - 11:30</span>
                    <span>Погибельский А.П.</span>
                </div>

                <!-- ПАРА 4 -->
                <div class="class-item practice">
                    <i class="material-symbols-outlined time-icon">physical_therapy</i>
                    <strong>Физическая культура</strong>
                    <span></span>
                    <span>10:00 - 11:30</span>
                    <span>Кафедра Ф/В</span>
                </div>
            </div>
        `;
    </script>






    <!-- ЗНАМЕНАТЕЛЬ -->

    <script>
        var denominatorSchedule = `
                <!-- Понедельник -->
            <div class="day-block">
                <div class="day-title">ПОНЕДЕЛЬНИК</div>

                <!-- ПАРА 1 -->
                <div class="class-item lecture">
                    <i class="material-icons time-icon">hub</i>
                    <strong>Физика. Механика</strong>
                    <span>1201</span>
                    <span>10:00 - 11:30</span>
                    <span>Федоренко И.В.</span>
                </div>

                <!-- ПАРА 2 -->
                <div class="class-item seminar">
                    <i class="material-symbols-outlined time-icon">function</i>
                    <strong>Линейная алгебра</strong>
                    <span>3303</span>
                    <span>10:00 - 11:30</span>
                    <span>Прокофьев А.А.</span>
                </div>

                <!-- ПЕРЕМЕНА -->
                <div class="break-item"><b>Большой перерыв</b><br>12:00 - 12:40</div>

                <!-- ПАРА 3 -->
                <div class="class-item lab">
                    <i class="material-symbols-outlined time-icon">functions</i>
                    <strong>Математический анализ</strong>
                    <span>1201</span>
                    <span>10:00 - 11:30</span>
                    <span>Погибельский А.П.</span>
                </div>

                <!-- ПАРА 4 -->
                <div class="class-item practice">
                    <i class="material-symbols-outlined time-icon">physical_therapy</i>
                    <strong>Физическая культура</strong>
                    <span></span>
                    <span>10:00 - 11:30</span>
                    <span>Кафедра Ф/В</span>
                </div>
            </div>
        `;
    </script>

    





    <script>
    // Скрипт для определения текущей недели по московскому времени
    document.addEventListener("DOMContentLoaded", function() {
        var startDate = new Date("2023-08-28"); // Дата начала отсчёта
        var currentDate = new Date(); // Текущая дата
        var moscowTimezoneOffset = 3; // UTC+3 (Московское время)
        
        // Получаем текущее московское время
        var currentMoscowTime = new Date(currentDate.getTime() + moscowTimezoneOffset * 60 * 60 * 1000);
        
        // Вычисляем недели от начальной даты в московском времени
        var weeksElapsed = Math.floor((currentMoscowTime - startDate) / (7 * 24 * 60 * 60 * 1000)) + 1;

        document.getElementById("numeratorCircle").style.display = "none";
        document.getElementById("denominatorCircle").style.display = "none";

        var typeOfWeek = 'Подождите...';
        if (weeksElapsed % 2 === 1) {
            typeOfWeek = 'Числитель';
            document.getElementById("numeratorCircle").style.display = 'block';
        }
        else {
            typeOfWeek = 'Знаменатель';
            document.getElementById("denominatorCircle").style.display = 'block';
        }

        // Обновляем текст элемента с номером недели
        document.getElementById("weekLegend").textContent = "Сейчас: " + weeksElapsed + " неделя | " + typeOfWeek;

        // Проверка четности и вызов changeSchedule
        if (weeksElapsed % 2 === 1) {changeSchedule('numerator');}
        else {changeSchedule('denominator');}
    });
    </script>

    <div class='my-legend'>
        <div class='legend-scale'>
            <ul class='legend-labels'>
                <li><span style='background:var(--lecture);'></span>Лекция</li>
                <li><span style='background:var(--seminar);'></span>Семинар</li>
                <li><span style='background:var(--lab);'></span>Лабораторная</li>
            </ul>
        </div>
    </div>
    
    <div class="schedule-container">

        <!--
        <div class="day-block">
            <div class="day-title">ИНФОРМАЦИЯ</div>

            <div class="class-item event">
                <strong>Пересдачи по физике</strong>
            </div>

            <div class="class-item event">
                <span>26.01 в 12:00, аудитория 1201</span>
            </div>
            <div class="class-item event">
                <span>27.01 в 10:00, аудитория 1201</span>
            </div>
        </div>
    -->

        <div id="scheduleContainer">
        </div>

        <script>
            // Скрипт для изменения расписания
            function changeSchedule(scheduleType) {
                // Получаем элементы кнопок
                var numeratorBtn = document.getElementById("numeratorBtn");
                var denominatorBtn = document.getElementById("denominatorBtn");
                var scheduleContainer = document.getElementById("scheduleContainer");
                
                if (scheduleType === 'numerator') {
                    // Изменения для Числителя
                    numeratorBtn.classList.remove("inactive-button");
                    numeratorBtn.classList.add("active-button");
                    denominatorBtn.classList.remove("active-button");
                    denominatorBtn.classList.add("inactive-button");
                    
                    scheduleContainer.innerHTML = numeratorSchedule;

                } else if (scheduleType === 'denominator') {
                    // Изменения для Знаменателя
                    numeratorBtn.classList.remove("active-button");
                    numeratorBtn.classList.add("inactive-button");
                    denominatorBtn.classList.remove("inactive-button");
                    denominatorBtn.classList.add("active-button");

                    scheduleContainer.innerHTML = denominatorSchedule;
                }
            }
        </script>
    </div>

    <!-- Текст в низу страницы -->
    <div class="footer-text">
        БАЗА ИКТ-11 | МИЭТ 2024
        <br/>
        <div class="alpha50">ПОСЛЕДНЕЕ ОБНОВЛЕНИЕ: 01.02.2024</div>
        <br />
        <br />
        dev: @eagalts
    </div>
</body>
</html>
